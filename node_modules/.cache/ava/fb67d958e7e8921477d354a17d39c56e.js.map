{"version":3,"sources":["test-simple.js"],"names":["readTestFile","testfile","testPath","path","join","__dirname","Promise","res","rej","fs","readFile","encoding","err","data","t","rtfData","converter","RtfToDeltaConverter","delta","convert","true","Delta","hasOwnProperty","is","ops","insert","attributes","color"],"mappings":"AAAA;;;;;AACA;;;;AACA;;;;AAEA;;;;AACA;;;;AAEA;;;;;;AAGA,SAASA,YAAT,CAAsBC,QAAtB,EAAgC;AAC9B,MAAIC,WAAWC,eAAKC,IAAL,CAAUC,SAAV,EAAqB,MAArB,EAA6BJ,QAA7B,CAAf;AACA,SAAO,IAAIK,OAAJ,CAAY,CAACC,GAAD,EAAKC,GAAL,KAAa;AAC9BC,iBAAGC,QAAH,CAAYR,QAAZ,EAAsB,EAACS,UAAU,OAAX,EAAtB,EAA2C,CAACC,GAAD,EAAKC,IAAL,KAAc;AACvD,UAAID,GAAJ,EAASJ,IAAII,GAAJ,EAAT,KACKL,IAAIM,IAAJ;AACN,KAHD;AAID,GALM,CAAP;AAMD;;AAED,mBAAK,YAAL,EAAmB,MAAMC,CAAN,IAAW;AAAA;AAAA;;AAE5B,MAAIC,UAAU,MAAMf,aAAa,gBAAb,CAApB;AACA,MAAIgB,YAAY,IAAIC,UAAJ,EAAhB;AACA,MAAIC,QAAQ,MAAMF,UAAUG,OAAV,CAAkBJ,OAAlB,CAAlB;;AAEAD,IAAEM,IAAF,uBAAO,4DAAiBC,oBAAjB,sBAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAA+B,aAA/B;AACAP,IAAEM,IAAF,yBAAO,gDAAME,cAAN,CAAqB,KAArB,CAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAoC,gBAApC;;AAEAR,IAAES,EAAF,CAAKL,MAAMM,GAAN,CAAU,CAAV,EAAaC,MAAlB,EAA0B,KAA1B;AACAX,IAAES,EAAF,CAAKL,MAAMM,GAAN,CAAU,CAAV,EAAaC,MAAlB,EAA0B,SAA1B;AACAX,IAAES,EAAF,CAAKL,MAAMM,GAAN,CAAU,CAAV,EAAaE,UAAb,CAAwBC,KAA7B,EAAoC,SAApC;AACAb,IAAES,EAAF,CAAKL,MAAMM,GAAN,CAAU,CAAV,EAAaC,MAAlB,EAA0B,KAA1B;AACD,CAbD","file":"test-simple.js","sourcesContent":["'use strict';\r\nimport path from 'path';\r\nimport fs from 'fs';\r\n\r\nimport test from 'ava';\r\nimport Delta from 'quill-delta';\r\n\r\nimport RtfToDeltaConverter from '..';\r\n\r\n\r\nfunction readTestFile(testfile) {\r\n  let testPath = path.join(__dirname, 'data', testfile);\r\n  return new Promise((res,rej) => {\r\n    fs.readFile(testPath, {encoding: 'ascii'}, (err,data) => {\r\n      if (err) rej(err);\r\n      else res(data);\r\n    });\r\n  });\r\n}\r\n\r\ntest('test color', async t => {\r\n\r\n  let rtfData = await readTestFile('test-color.rtf');\r\n  let converter = new RtfToDeltaConverter();\r\n  let delta = await converter.convert(rtfData);\r\n\r\n  t.true(delta instanceof Delta, 'class check');\r\n  t.true(delta.hasOwnProperty('ops'), 'property check');\r\n\r\n  t.is(delta.ops[0].insert, 'ABC');\r\n  t.is(delta.ops[1].insert, 'DEFGHIJ');\r\n  t.is(delta.ops[1].attributes.color, '#fb0207');\r\n  t.is(delta.ops[2].insert, 'KLM');\r\n});\r\n\r\n"]}